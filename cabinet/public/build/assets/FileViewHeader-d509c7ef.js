import{j as e,b}from"./app-3ffd3504.js";import{h as w}from"./utils-7409c456.js";import{D as o}from"./Dropdown-2db83955.js";import{r as s}from"./redux-52861b2e.js";import{M as k}from"./ModalYesOrNot-de12e09c.js";import{u as M}from"./useAxios-ae1d4547.js";import{B as d}from"./ui-92f4c6ee.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./router-6000881a.js";function q({file:r}){const c=r.created_at;w(c).format("DD.MM.YYYY HH:mm:ss");const m={margin:"5px"},[p,l]=s.useState(!1),[i,u]=s.useState(null),{sendRequest:f,data:a,error:n}=M();s.useEffect(()=>{a&&d.success("Successfully deleted")},[a]),s.useEffect(()=>{const t=n;t&&d.error("Error:",t.message)},[n]);const h=()=>{b.patch("/user-about-me",{profile_image_url:r.url}).then(t=>{console.log(t.data)}).catch(t=>{console.error("Error:",t)})},x=t=>{l(!0),u(t)},D=()=>{l(!1)},g=()=>{i&&j(i),l(!1)},j=t=>f("delete",{},{url:`/user-file/${t}`});return e.jsxs("div",{className:"flex-grow",style:m,children:[e.jsx("div",{className:"flex justify-content-right",children:e.jsxs(o,{children:[e.jsx(o.Trigger,{children:e.jsx("button",{className:"nav-link dropdown-toggle button-icon",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e.jsx("i",{className:"bi bi-three-dots-vertical"})})}),e.jsxs(o.Content,{align:"right",children:[e.jsx("button",{type:"button",className:"m-2",onClick:()=>x(r.id),children:"Delete"}),e.jsx(o.Link,{href:route("profile.edit"),children:"Profile"})," ",r.type==="image"&&e.jsxs(o.Link,{onClick:h,method:"post",as:"button",href:"#",children:[" ","Set as profile picture"]})]})]})}),p&&e.jsx(k,{closeModal:D,handleButtonClick:g,text:{head:"Delete a file",title:"Do you want to delete a file?"}})]})}export{q as default};

import{r as i,j as m}from"./app-e8313916.js";import C from"./Post-92d94151.js";import E from"./ParentSayPost-45a2b39c.js";import{u as S}from"./useAxios-9604ea7f.js";import{B as l}from"./react-toastify.esm-16d35fd7.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./PostContent-3c7fd060.js";import"./LinkPreviewPost-0d12ae6c.js";import"./PostFooter-72ec0576.js";import"./PostHeader-1ec26e94.js";import"./Dropdown-a747ab9c.js";import"./transition-c744c454.js";import"./ModalYesOrNot-bc993130.js";import"./dialog-bcb8bba9.js";import"./moment-a9aaa855.js";import"./PostActions-6ec31a2d.js";import"./CommentsList-c3eefec0.js";import"./Comment-6347eabe.js";import"./SayPost-298d0250.js";import"./Button-078a0dfe.js";import"./TextInput-cccf061c.js";import"./Modal-b5ce8d54.js";import"./JobTabContent-5ba2719d.js";import"./SelectButton-0b060359.js";import"./FileTabContent-2e31168d.js";import"./UploaderLot-bf6a7bfd.js";import"./LinkTabContent-4b7cc45f.js";import"./LinkPreviewModal-06dc3ea9.js";import"./EditableText-46ab8cf7.js";function it({posts:o}){const{sendRequest:f,data:p,loading:y,error:a}=S(),[d,u]=i.useState(),[c,P]=i.useState(),[r,n]=i.useState();i.useEffect(()=>{o&&n(o)},[o]),i.useEffect(()=>{if(p&&c){l.success("Success delete");const t=o.filter(e=>e.id!=c.id);t&&n(t)}},[p]),i.useEffect(()=>{const t=a;t&&l.error("Error:",t.message)},[a]);const g=t=>{const e=o.find(s=>s.id===t);e&&u({...e})},h=t=>{const e=o.find(s=>s.id===t);e&&P(e),x(t)},x=t=>{f("delete",{},{url:`/posts/${t}`})},D=t=>{console.log(t),r&&n([...r,t])},j=t=>{if(console.log(t),r){const e=r.map(s=>s.id===t.id?t:s);n(e)}};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"posts",children:r&&r.map(t=>m.jsx(C,{post:t,onChangeUpdatePost:g,onChangeDeletePost:h},t.id))}),d&&m.jsx(E,{postData:d,onCreatePost:D,onUpdatePost:j})]})}export{it as default};

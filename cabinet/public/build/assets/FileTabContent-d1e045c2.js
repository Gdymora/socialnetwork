import{j as e}from"./app-3ffd3504.js";import{r as n}from"./redux-52861b2e.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./router-6000881a.js";import"./utils-7409c456.js";const F=({onChange:o,style:a,className:h,page:d,prewiewForUpdate:x})=>{const[s,p]=n.useState(null),[r,S]=n.useState(x),[c,u]=n.useState(""),j=t=>{t.preventDefault()},g=t=>{t.preventDefault();const i=t.dataTransfer.files;if(i.length>0){const f=i[0];p(f),u(URL.createObjectURL(f))}},v=t=>{if(t.target.files){const i=t.target.files[0];p(i),u(URL.createObjectURL(i)),o(i)}};n.useEffect(()=>{s&&(console.log(s.type),o(s))},[s]);const b={border:"2px dashed #ccc",padding:"20px",textAlign:"center",cursor:"pointer",...a},m={},l={height:"100%",objectFit:"contain"},y={objectFit:"contain"};return e.jsxs("div",{style:b,className:h,onDragOver:j,onDrop:g,onClick:()=>{var t;return(t=document.getElementById("fileInput"))==null?void 0:t.click()},children:[e.jsx("input",{type:"file",id:"fileInput",style:{display:"none"},onChange:v}),"Click or drag the file here",s&&e.jsxs("div",{style:m,children:[s.type.startsWith("image/")&&e.jsx("img",{src:c,alt:"Preview",style:l}),s.type.startsWith("video/")&&e.jsx("video",{src:c,controls:!0,style:l}),d!=="dashboard"&&s.type.startsWith("audio/")&&e.jsx("audio",{src:c,controls:!0,style:y})]}),r&&e.jsxs("div",{style:m,children:[r.type==="image"&&e.jsx("img",{src:`/media/${r.url}`,alt:"Preview",style:l}),r.type==="video"&&e.jsx("video",{src:`/media/${r.url}`,controls:!0,style:l}),d!=="dashboard"&&r.type==="audio"&&e.jsx("audio",{src:`/media/${r.url}`,controls:!0,style:y})]})]})},k=({className:o,onChange:a})=>e.jsx("div",{className:o,children:e.jsx(F,{onChange:a,style:{},className:"custom-uploader-class"})});export{k as default};

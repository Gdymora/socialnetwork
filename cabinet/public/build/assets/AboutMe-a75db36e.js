import{r as o,j as s}from"./app-2181791e.js";import{E as _}from"./EditableText-fe40ec2f.js";import{u as N}from"./useAxios-2971df0c.js";import{B as d}from"./react-toastify.esm-98ad1542.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */function I({profileData:i}){const[n,h]=o.useState(i.about_me),{sendRequest:b,data:l,loading:a,error:r}=N(""),[m,j]=o.useState({hobbies:!1,occupations:!1,education:!1,birthplace:!1}),u={hobbies:"Hobby",occupations:"Occupations",education:"Education",birthplace:"Birthplace"},p=(e,t)=>Object.keys(e).find(c=>c===t),g=(e,t)=>{h(c=>({...c,[t]:e}))},x=(e,t)=>{j(c=>({...c,[e]:t}))},f={margin:"-8px"},E=e=>{const t=p(u,e);t&&(i.about_me[t]!==n[t]&&b("patch",{[t]:n[t]},{url:"/user-about-me"}),x(e,!1))};return o.useEffect(()=>{!a&&!r&&l?l.message?d.success(l.message):d.success("Successful!"):!a&&r&&d.error("Сталася помилка при оновленні даних")},[l,a,r]),s.jsxs("div",{className:"about",children:[s.jsx("div",{className:"flex justify-content-center",children:s.jsx("div",{className:"circle",style:{width:"200px",height:"200px"},children:s.jsx("img",{src:i.profile_image_url?`/user-file/${i.profile_image_url}`:"/assets/images/noimg.png",loading:"lazy",alt:`${i==null?void 0:i.name} ${i==null?void 0:i.last_name}`})})}),s.jsx("div",{className:"flex justify-content-center",children:s.jsx("h2",{children:"About me"})}),Object.entries(u).map(([e,t])=>s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"section",children:[t,": "]}),s.jsx("div",{onClick:()=>x(e,!0),className:"section",onBlur:()=>E(e),children:m[e]?s.jsx("div",{style:f,children:s.jsx(_,{onChange:c=>g(c,e),textFromUploader:n[e],isEdit:m[e],isTypeInput:!1})}):s.jsx(s.Fragment,{children:n[e]?s.jsx("p",{className:"text-light",children:n[e]}):s.jsxs("p",{children:["Add a ",t]})})},e)]},e))]})}export{I as default};

import{r,j as e,f as y,y as w}from"./app-2181791e.js";import{h as N}from"./moment-a9aaa855.js";import{D as s}from"./Dropdown-52bb87a6.js";import{M as v}from"./ModalYesOrNot-e1d9267a.js";import{u as M}from"./useAxios-2971df0c.js";import{B as d}from"./react-toastify.esm-98ad1542.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./transition-ad5484f3.js";import"./dialog-91f2bc47.js";function B({file:o}){const u=o.created_at;N(u).format("DD.MM.YYYY HH:mm:ss");const p={margin:"5px"},[m,l]=r.useState(!1),[i,f]=r.useState(null),{sendRequest:x,data:n,error:c}=M();r.useEffect(()=>{n&&d.success("Successfully deleted")},[n]),r.useEffect(()=>{const t=c;t&&d.error("Error:",t.message)},[c]);const h=t=>{t.preventDefault(),y.patch("/user-about-me",{profile_image_url:o.url}).then(a=>{w.reload({only:["user"]}),console.log(a.data)}).catch(a=>{console.error("Error:",a)})},D=t=>{l(!0),f(t)},g=()=>{l(!1)},j=()=>{i&&b(i),l(!1)},b=t=>x("delete",{},{url:`/user-file/${t}`});return e.jsxs("div",{className:"flex-grow",style:p,children:[e.jsx("div",{className:"flex justify-content-right",children:e.jsxs(s,{children:[e.jsx(s.Trigger,{children:e.jsx("button",{className:"nav-link dropdown-toggle button-icon",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e.jsx("i",{className:"bi bi-three-dots-vertical"})})}),e.jsxs(s.Content,{align:"right",children:[e.jsx("button",{type:"button",className:"m-2",onClick:()=>D(o.id),children:"Delete"}),e.jsx(s.Link,{href:route("profile.edit"),children:"Profile"})," ",o.type==="image"&&e.jsx("button",{onClick:h,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",children:"Set as profile picture"})]})]})}),m&&e.jsx(v,{closeModal:g,handleButtonClick:j,text:{head:"Delete a file",title:"Do you want to delete a file?"}})]})}export{B as default};

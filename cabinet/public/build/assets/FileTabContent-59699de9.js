import{r as n,j as e}from"./app-2181791e.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */const F=({onChange:o,style:a,className:h,page:d,prewiewForUpdate:x})=>{const[s,p]=n.useState(null),[i,S]=n.useState(x),[c,u]=n.useState(""),j=t=>{t.preventDefault()},g=t=>{t.preventDefault();const r=t.dataTransfer.files;if(r.length>0){const m=r[0];p(m),u(URL.createObjectURL(m))}},v=t=>{if(t.target.files){const r=t.target.files[0];p(r),u(URL.createObjectURL(r)),o(r)}};n.useEffect(()=>{s&&(console.log(s.type),o(s))},[s]);const b={border:"2px dashed #ccc",padding:"20px",textAlign:"center",cursor:"pointer",...a},y={},l={height:"100%",objectFit:"contain"},f={objectFit:"contain"};return e.jsxs("div",{style:b,className:h,onDragOver:j,onDrop:g,onClick:()=>{var t;return(t=document.getElementById("fileInput"))==null?void 0:t.click()},children:[e.jsx("input",{type:"file",id:"fileInput",style:{display:"none"},onChange:v}),"Click or drag the file here",s&&e.jsxs("div",{style:y,children:[s.type.startsWith("image/")&&e.jsx("img",{src:c,alt:"Preview",style:l}),s.type.startsWith("video/")&&e.jsx("video",{src:c,controls:!0,style:l}),d!=="dashboard"&&s.type.startsWith("audio/")&&e.jsx("audio",{src:c,controls:!0,style:f})]}),i&&e.jsxs("div",{style:y,children:[i.type==="image"&&e.jsx("img",{src:`/media/${i.url}`,alt:"Preview",style:l}),i.type==="video"&&e.jsx("video",{src:`/media/${i.url}`,controls:!0,style:l}),d!=="dashboard"&&i.type==="audio"&&e.jsx("audio",{src:`/media/${i.url}`,controls:!0,style:f})]})]})},L=({className:o,onChange:a})=>e.jsx("div",{className:o,children:e.jsx(F,{onChange:a,style:{},className:"custom-uploader-class"})});export{L as default};

import{j as m}from"./app-3ffd3504.js";import C from"./Post-8c6ecd30.js";import E from"./ParentSayPost-0b5d977f.js";import{r as i}from"./redux-52861b2e.js";import{u as S}from"./useAxios-ae1d4547.js";import{B as l}from"./ui-92f4c6ee.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./router-6000881a.js";import"./utils-7409c456.js";import"./PostContent-ee396dd1.js";import"./LinkPreviewPost-006ebc2d.js";import"./PostFooter-bbb78cb2.js";import"./PostHeader-109fdfe9.js";import"./Dropdown-2db83955.js";import"./ModalYesOrNot-de12e09c.js";import"./PostActions-8cc2d8f7.js";import"./CommentsList-24047efd.js";import"./Comment-af81ed95.js";import"./SayPost-3ff4d9e9.js";import"./Button-42b20b5a.js";import"./TextInput-866c0206.js";import"./Modal-040a6404.js";import"./JobTabContent-d5a8869e.js";import"./SelectButton-9c925666.js";import"./FileTabContent-511b6f30.js";import"./UploaderLot-b2596a22.js";import"./LinkTabContent-db4154a4.js";import"./LinkPreviewModal-43e2b212.js";import"./EditableText-34553ca5.js";function it({posts:o}){const{sendRequest:f,data:p,loading:y,error:a}=S(),[d,u]=i.useState(),[c,P]=i.useState(),[r,n]=i.useState();i.useEffect(()=>{o&&n(o)},[o]),i.useEffect(()=>{if(p&&c){l.success("Success delete");const t=o.filter(e=>e.id!=c.id);t&&n(t)}},[p]),i.useEffect(()=>{const t=a;t&&l.error("Error:",t.message)},[a]);const g=t=>{const e=o.find(s=>s.id===t);e&&u({...e})},h=t=>{const e=o.find(s=>s.id===t);e&&P(e),x(t)},x=t=>{f("delete",{},{url:`/posts/${t}`})},D=t=>{console.log(t),r&&n([...r,t])},j=t=>{if(console.log(t),r){const e=r.map(s=>s.id===t.id?t:s);n(e)}};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"posts",children:r&&r.map(t=>m.jsx(C,{post:t,onChangeUpdatePost:g,onChangeDeletePost:h},t.id))}),d&&m.jsx(E,{postData:d,onCreatePost:D,onUpdatePost:j})]})}export{it as default};

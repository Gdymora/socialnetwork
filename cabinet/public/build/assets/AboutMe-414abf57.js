import{j as s}from"./app-3ffd3504.js";import{E as _}from"./EditableText-34553ca5.js";import{u as N}from"./useAxios-ae1d4547.js";import{r as a}from"./redux-52861b2e.js";import{B as m}from"./ui-92f4c6ee.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./router-6000881a.js";import"./utils-7409c456.js";function q({profileData:i}){const[n,h]=a.useState(i.about_me),{sendRequest:b,data:r,loading:l,error:o}=N(""),[d,p]=a.useState({hobbies:!1,occupations:!1,education:!1,birthplace:!1}),u={hobbies:"Hobby",occupations:"Occupations",education:"Education",birthplace:"Birthplace"},j=(e,t)=>Object.keys(e).find(c=>c===t),g=(e,t)=>{h(c=>({...c,[t]:e}))},x=(e,t)=>{p(c=>({...c,[e]:t}))},f={margin:"-8px"},E=e=>{const t=j(u,e);t&&(i.about_me[t]!==n[t]&&b("patch",{[t]:n[t]},{url:"/user-about-me"}),x(e,!1))};return a.useEffect(()=>{!l&&!o&&r?r.message?m.success(r.message):m.success("Successful!"):!l&&o&&m.error("Сталася помилка при оновленні даних")},[r,l,o]),s.jsxs("div",{className:"about",children:[s.jsx("div",{className:"flex justify-content-center",children:s.jsx("div",{className:"circle",style:{width:"200px",height:"200px"},children:s.jsx("img",{src:i.profile_image_url?`/user-file/${i.profile_image_url}`:"/assets/images/noimg.png",loading:"lazy",alt:`${i==null?void 0:i.name} ${i==null?void 0:i.last_name}`})})}),s.jsx("div",{className:"flex justify-content-center",children:s.jsx("h2",{children:"About me"})}),Object.entries(u).map(([e,t])=>s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"section",children:[t,": "]}),s.jsx("div",{onClick:()=>x(e,!0),className:"section",onBlur:()=>E(e),children:d[e]?s.jsx("div",{style:f,children:s.jsx(_,{onChange:c=>g(c,e),textFromUploader:n[e],isEdit:d[e],isTypeInput:!1})}):s.jsx(s.Fragment,{children:n[e]?s.jsx("p",{className:"text-light",children:n[e]}):s.jsxs("p",{children:["Add a ",t]})})},e)]},e))]})}export{q as default};

import{j as n,b as E}from"./app-3ffd3504.js";import{r as e}from"./redux-52861b2e.js";import g from"./LinkPreviewModal-43e2b212.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./router-6000881a.js";import"./utils-7409c456.js";const v=({onChange:m,className:f,dataLink:o})=>{const[t,a]=e.useState((o==null?void 0:o.url)||""),[s,c]=e.useState(o||null),[h,l]=e.useState(!1),[p,r]=e.useState(""),x=async i=>{try{const u=await E.get(`/link-preview/${encodeURIComponent(i)}`);c(u.data),r("")}catch{r("Неможливо отримати дані за посиланням")}};e.useEffect(()=>{s&&m(s)},[s]),e.useEffect(()=>{t&&j()},[t]);const d=i=>{a(i.target.value)},k=()=>{c(null),a("")},j=()=>{t.startsWith("http://")||t.startsWith("https://")?(x(t),l(!1)):r("Введено некоректне посилання")};return n.jsxs("div",{className:f,children:[h?n.jsx("input",{type:"text",value:t,onChange:d,autoFocus:!0}):n.jsx("div",{onClick:()=>l(!0),children:t||"Введіть посилання"}),s&&n.jsx(g,{linkData:s,onDelete:k}),p&&n.jsx("p",{className:"error",children:p})]})},$=v;export{$ as default};

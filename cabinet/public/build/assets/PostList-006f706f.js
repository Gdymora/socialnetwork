import{r as i,j as m}from"./app-a142f554.js";import C from"./Post-a947e8b1.js";import E from"./ParentSayPost-557fcb6c.js";import{u as S}from"./useAxios-f144e6ad.js";import{B as l}from"./react-toastify.esm-0863bb1c.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./PostContent-1a6820f1.js";import"./LinkPreviewPost-5416ece9.js";import"./PostFooter-224e78fd.js";import"./PostHeader-94badbae.js";import"./Dropdown-c13a3ddc.js";import"./transition-1cec1691.js";import"./ModalYesOrNot-c4e25538.js";import"./dialog-a7b119db.js";import"./moment-a9aaa855.js";import"./PostActions-76c2ad5d.js";import"./CommentsList-0ec17235.js";import"./Comment-6d703028.js";import"./SayPost-c8316606.js";import"./Button-e74e1392.js";import"./TextInput-ef57eae5.js";import"./Modal-108b64a6.js";import"./JobTabContent-b979c58d.js";import"./SelectButton-aea3e175.js";import"./FileTabContent-c3223012.js";import"./UploaderLot-f3cf3990.js";import"./LinkTabContent-17fe51d2.js";import"./LinkPreviewModal-3cdc18b1.js";import"./EditableText-305b9e7f.js";function it({posts:o}){const{sendRequest:f,data:p,loading:y,error:a}=S(),[d,u]=i.useState(),[c,P]=i.useState(),[r,n]=i.useState();i.useEffect(()=>{o&&n(o)},[o]),i.useEffect(()=>{if(p&&c){l.success("Success delete");const t=o.filter(e=>e.id!=c.id);t&&n(t)}},[p]),i.useEffect(()=>{const t=a;t&&l.error("Error:",t.message)},[a]);const g=t=>{const e=o.find(s=>s.id===t);e&&u({...e})},h=t=>{const e=o.find(s=>s.id===t);e&&P(e),x(t)},x=t=>{f("delete",{},{url:`/posts/${t}`})},D=t=>{console.log(t),r&&n([...r,t])},j=t=>{if(console.log(t),r){const e=r.map(s=>s.id===t.id?t:s);n(e)}};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"posts",children:r&&r.map(t=>m.jsx(C,{post:t,onChangeUpdatePost:g,onChangeDeletePost:h},t.id))}),d&&m.jsx(E,{postData:d,onCreatePost:D,onUpdatePost:j})]})}export{it as default};

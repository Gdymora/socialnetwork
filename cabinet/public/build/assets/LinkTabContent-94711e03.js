import{r as e,j as n,f as E}from"./app-2181791e.js";import g from"./LinkPreviewModal-0c2d6540.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */const v=({onChange:f,className:m,dataLink:o})=>{const[t,a]=e.useState((o==null?void 0:o.url)||""),[s,c]=e.useState(o||null),[h,l]=e.useState(!1),[u,r]=e.useState(""),x=async i=>{try{const p=await E.get(`/link-preview/${encodeURIComponent(i)}`);c(p.data),r("")}catch{r("Неможливо отримати дані за посиланням")}};e.useEffect(()=>{s&&f(s)},[s]),e.useEffect(()=>{t&&j()},[t]);const d=i=>{a(i.target.value)},k=()=>{c(null),a("")},j=()=>{t.startsWith("http://")||t.startsWith("https://")?(x(t),l(!1)):r("Введено некоректне посилання")};return n.jsxs("div",{className:m,children:[h?n.jsx("input",{type:"text",value:t,onChange:d,autoFocus:!0}):n.jsx("div",{onClick:()=>l(!0),children:t||"Введіть посилання"}),s&&n.jsx(g,{linkData:s,onDelete:k}),u&&n.jsx("p",{className:"error",children:u})]})},R=v;export{R as default};

import{r as g,b as k,j as e}from"./app-2181791e.js";import{D as a}from"./Dropdown-52bb87a6.js";import{M as j}from"./ModalYesOrNot-e1d9267a.js";import{h as v}from"./moment-a9aaa855.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./transition-ad5484f3.js";import"./dialog-91f2bc47.js";function V({id:o,author:t,createdAt:m,visibility:n,onChangeUpdate:x,onChangeDelete:u}){const p=v(m).format("DD.MM.YYYY HH:mm:ss"),l=window.location.pathname==="/user-home",[h,r]=g.useState(!1),[f,w]=g.useState({id:o,author:t,visibility:n}),i=k(s=>s.user);console.log(i);const d=s=>{x(o)},c=s=>{r(!0)},b=()=>{r(!1)},y=()=>{u(f.id),r(!1)};return e.jsxs("div",{className:"post-header",children:[e.jsx("div",{className:"circle",children:e.jsx("img",{src:t.profile_image_url?`/user-file/${t.profile_image_url}`:"/assets/images/noimg.png",alt:`image ${t.name}`,loading:"lazy"})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"bold",children:[t.name," ",t.last_name]}),e.jsxs("p",{className:"text-light",children:[p," ",n]})]}),e.jsx("div",{className:"flex justify-content-right",children:e.jsxs(a,{children:[e.jsx(a.Trigger,{children:e.jsx("button",{className:"nav-link dropdown-toggle button-icon",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e.jsx("i",{className:"bi bi-three-dots-vertical"})})}),e.jsxs(a.Content,{align:"right",children:[l&&e.jsxs(e.Fragment,{children:[e.jsx(a.Link,{method:"get",as:"button",href:route("posts.show",{id:o}),children:"View"}),e.jsx("div",{className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 transition duration-150 ease-in-out ",onClick:s=>{d()},children:"Edit"}),e.jsx("div",{className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 transition duration-150 ease-in-out ",onClick:s=>{c()},children:"Delete"})]}),!l&&e.jsxs(e.Fragment,{children:[e.jsx(a.Link,{method:"get",as:"button",href:route("posts.show",{id:o}),children:"View"}),t.id===i.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 transition duration-150 ease-in-out ",onClick:s=>{d()},children:"Edit"}),e.jsx("div",{className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-800 transition duration-150 ease-in-out ",onClick:s=>{c()},children:"Delete"})]})]})]})]})}),h&&e.jsx(j,{closeModal:b,handleButtonClick:y,text:{head:"Delete a post",title:"Do you want to delete a post?"}})]})}export{V as default};

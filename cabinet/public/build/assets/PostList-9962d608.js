import{r as i,j as m}from"./app-2181791e.js";import C from"./Post-9cc5948a.js";import E from"./ParentSayPost-46569420.js";import{u as S}from"./useAxios-2971df0c.js";import{B as l}from"./react-toastify.esm-98ad1542.js";/* empty css            *//* empty css               *//* empty css                *//* empty css              *//* empty css                 *//* empty css              */import"./PostContent-8c889a29.js";import"./LinkPreviewPost-234463c1.js";import"./PostFooter-8ee2eb4c.js";import"./PostHeader-3a86e98b.js";import"./Dropdown-52bb87a6.js";import"./transition-ad5484f3.js";import"./ModalYesOrNot-e1d9267a.js";import"./dialog-91f2bc47.js";import"./moment-a9aaa855.js";import"./PostActions-d823508f.js";import"./CommentsList-1fd3cb74.js";import"./Comment-62f94169.js";import"./SayPost-7984fbff.js";import"./Button-c48d99e5.js";import"./TextInput-ff385964.js";import"./Modal-f47a1951.js";import"./JobTabContent-2868b45a.js";import"./SelectButton-33279a7e.js";import"./FileTabContent-4a0ab4b2.js";import"./UploaderLot-cbb61778.js";import"./LinkTabContent-94711e03.js";import"./LinkPreviewModal-0c2d6540.js";import"./EditableText-fe40ec2f.js";function it({posts:o}){const{sendRequest:f,data:p,loading:y,error:a}=S(),[d,u]=i.useState(),[c,P]=i.useState(),[r,n]=i.useState();i.useEffect(()=>{o&&n(o)},[o]),i.useEffect(()=>{if(p&&c){l.success("Success delete");const t=o.filter(e=>e.id!=c.id);t&&n(t)}},[p]),i.useEffect(()=>{const t=a;t&&l.error("Error:",t.message)},[a]);const g=t=>{const e=o.find(s=>s.id===t);e&&u({...e})},h=t=>{const e=o.find(s=>s.id===t);e&&P(e),x(t)},x=t=>{f("delete",{},{url:`/posts/${t}`})},D=t=>{console.log(t),r&&n([...r,t])},j=t=>{if(console.log(t),r){const e=r.map(s=>s.id===t.id?t:s);n(e)}};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"posts",children:r&&r.map(t=>m.jsx(C,{post:t,onChangeUpdatePost:g,onChangeDeletePost:h},t.id))}),d&&m.jsx(E,{postData:d,onCreatePost:D,onUpdatePost:j})]})}export{it as default};

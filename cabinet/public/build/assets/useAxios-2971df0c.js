import{r as t,f as p}from"./app-2181791e.js";const g=r=>{const[n,o]=t.useState(null),[l,a]=t.useState(!1),[u,s]=t.useState(null);return{sendRequest:async(c="get",i={},d={},f)=>{a(!0),o(null),s(null);try{const e=await p({url:f||r,method:c,data:i,...d});o(e.data)}catch(e){console.log(e),e.response&&e.response.status===401?(window.location.href="/",localStorage.removeItem("token")):s(e),s(e)}finally{a(!1)}},data:n,loading:l,error:u}},S=g;export{S as u};
